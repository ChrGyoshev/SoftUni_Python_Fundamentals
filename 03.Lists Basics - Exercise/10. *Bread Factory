event = input().split("|")
energy = 100
coins = 100
failed_event = False
for current_event in event:

    command, value = current_event.split("-")
    value = int(value)
    if failed_event == True:
        break
    if command == "rest":
        if energy == 100:
            value = 0
        else:
            energy += value
        print(f'You gained {value} energy.')
        print(f'Current energy: {energy}.')
    elif command == "order":
        if energy >=30:
            energy -= 30
            coins += value
            print(f'You earned {value} coins.')
        else:
            energy += 50
            print("You had to rest!")
            continue
    else:

        if coins > value:
            print(f'You bought {command}.')
            coins -= value



        else:
            print(f'Closed! Cannot afford {command}.')
            failed_event = True
            break



if not failed_event:
    print("Day completed!")
    print(f'Coins: {coins}')
    print(f'Energy: {energy}')
